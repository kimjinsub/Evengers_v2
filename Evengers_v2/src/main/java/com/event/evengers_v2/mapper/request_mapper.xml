<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.event.evengers_v2.dao.RequestDao">
	<insert id="evtReqInsert" parameterType="request">
		INSERT INTO REQ VALUES('REQ'||LPAD(R_SEQ.NEXTVAL,4,0),#{m_id},#{ec_name},
      		#{req_title},#{req_contents},TO_DATE(#{req_hopedate},'YYYY-MM-DDHH24:MI:SS'),#{req_hopearea},#{req_hopeaddr})
   </insert>
   
   <select id="getReqCode" parameterType="String" resultType="String">
   		SELECT MAX(REQ_CODE) FROM REQ
   </select>
   
   <insert id="evtReqImageInsert" parameterType="requestimage">
		INSERT INTO REQI VALUES('REQI'||LPAD(R_SEQ.NEXTVAL,4,0),#{reqi_orifilename},#{reqi_sysfilename},#{req_code})   		
   </insert>
   
   
</mapper>